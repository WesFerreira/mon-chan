!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).monChan=t()}}(function(){return function a(o,s,u){function c(n,t){if(!s[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(d)return d(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[n]={exports:{}};o[n][0].call(r.exports,function(t){return c(o[n][1][t]||t)},r,r.exports,a,o,s,u)}return s[n].exports}for(var d="function"==typeof require&&require,t=0;t<u.length;t++)c(u[t]);return c}({1:[function(t,n,e){"use strict";var i=this&&this.__decorate||function(t,n,e,i){var r,a=arguments.length,o=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,n,e,i);else for(var s=t.length-1;0<=s;s--)(r=t[s])&&(o=(a<3?r(o):3<a?r(n,e,o):r(n,e))||o);return 3<a&&o&&Object.defineProperty(n,e,o),o},r=this&&this.__metadata||function(t,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,n)},a=this&&this.__param||function(e,i){return function(t,n){i(t,n,e)}};Object.defineProperty(e,"__esModule",{value:!0});var o,s,u,c=t("inversify");o=e.Mon||(e.Mon={}),s=o.Helpers||(o.Helpers={}),u=function(){function t(t){var n=this;this.scale=30,this.set={animation:{positionIterations:function(t){n.positionIterations=t},timeStep:function(t){n.timeStep=t},velocityIterations:function(t){n.velocityIterations=t}},debug:{fillAlpha:function(t){n.fillAlpha=t},flags:function(t){n.flags=t},lineThickness:function(t){n.lineThickness=t}}},this.timeStep=1/60,this.velocityIterations=8,this.positionIterations=3,this.fillAlpha=.5,this.lineThickness=1,this.flags=Box2D.Dynamics.b2DebugDraw.e_shapeBit||Box2D.Dynamics.b2DebugDraw.e_jointBit,this.applyPhysics=function(){n.world.Step(n.timeStep,n.velocityIterations,n.positionIterations),n.world.ClearForces(),n.world.DrawDebugData(),setTimeout(n.applyPhysics,n.timeStep)},this.w=t.w,this.h=t.h,t.gravity||(t.gravity=new Box2D.Common.Math.b2Vec2(0,9.8)),this.world=new Box2D.Dynamics.b2World(t.gravity,t.allowSleep),t.debug&&(this.addDebugView(),this.setupDebugDraw())}return t.prototype.addDebugView=function(){var t=document.createElement("canvas");t.width=this.w,t.height=this.h,t.setAttribute("id","debugView"),t.style.cssText="background-color: rgba(255, 255, 255, 0.4); position: absolute;",document.body.insertBefore(t,document.body.getElementsByTagName("canvas")[0])},t.prototype.setupDebugDraw=function(){var t=new Box2D.Dynamics.b2DebugDraw;t.SetSprite(document.getElementById("debugView").getContext("2d")),t.SetDrawScale(this.scale),t.SetFillAlpha(this.fillAlpha),t.SetLineThickness(this.lineThickness),t.SetFlags(this.flags),this.world.SetDebugDraw(t)},t=i([c.injectable(),a(0,c.inject("B2AppOptions")),r("design:paramtypes",[Object])],t)}(),s.Box2App=u},{inversify:21}],2:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p=t("../constants/error_msgs"),r=t("../constants/metadata_keys");function a(t,n,e,i,r){var a={},o="number"==typeof r,s=void 0!==r&&o?r.toString():e;if(o&&void 0!==e)throw new Error(p.INVALID_DECORATOR_OPERATION);Reflect.hasOwnMetadata(t,n)&&(a=Reflect.getMetadata(t,n));var u=a[s];if(Array.isArray(u))for(var c=0,d=u;c<d.length;c++){var l=d[c];if(l.key===i.key)throw new Error(p.DUPLICATED_METADATA+" "+l.key.toString())}else u=[];u.push(i),a[s]=u,Reflect.defineMetadata(t,a,n)}function o(t,n){Reflect.decorate(t,n)}e.tagParameter=function(t,n,e,i){a(r.TAGGED,t,n,i,e)},e.tagProperty=function(t,n,e){a(r.TAGGED_PROP,t.constructor,n,e)},e.decorate=function(t,n,e){var i,r;"number"==typeof e?o([(i=e,r=t,function(t,n){r(t,n,i)})],n):"string"==typeof e?Reflect.decorate([t],n,e):o([t],n)}},{"../constants/error_msgs":14,"../constants/metadata_keys":16}],3:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("../constants/error_msgs"),o=t("../constants/metadata_keys"),s=t("../planning/metadata"),u=t("./decorator_utils"),i=function(){function t(t){this._cb=t}return t.prototype.unwrap=function(){return this._cb()},t}();e.LazyServiceIdentifer=i,e.inject=function(r){return function(t,n,e){if(void 0===r)throw new Error(a.UNDEFINED_INJECT_ANNOTATION(t.name));var i=new s.Metadata(o.INJECT_TAG,r);"number"==typeof e?u.tagParameter(t,n,e,i):u.tagProperty(t,n,i)}}},{"../constants/error_msgs":14,"../constants/metadata_keys":16,"../planning/metadata":23,"./decorator_utils":2}],4:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../constants/error_msgs"),r=t("../constants/metadata_keys");e.injectable=function(){return function(t){if(Reflect.hasOwnMetadata(r.PARAM_TYPES,t))throw new Error(i.DUPLICATED_INJECTABLE_DECORATOR);var n=Reflect.getMetadata(r.DESIGN_PARAM_TYPES,t)||[];return Reflect.defineMetadata(r.PARAM_TYPES,n,t),t}}},{"../constants/error_msgs":14,"../constants/metadata_keys":16}],5:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("../constants/metadata_keys"),o=t("../planning/metadata"),s=t("./decorator_utils");e.multiInject=function(r){return function(t,n,e){var i=new o.Metadata(a.MULTI_INJECT_TAG,r);"number"==typeof e?s.tagParameter(t,n,e,i):s.tagProperty(t,n,i)}}},{"../constants/metadata_keys":16,"../planning/metadata":23,"./decorator_utils":2}],6:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("../constants/metadata_keys"),o=t("../planning/metadata"),s=t("./decorator_utils");e.named=function(r){return function(t,n,e){var i=new o.Metadata(a.NAMED_TAG,r);"number"==typeof e?s.tagParameter(t,n,e,i):s.tagProperty(t,n,i)}}},{"../constants/metadata_keys":16,"../planning/metadata":23,"./decorator_utils":2}],7:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("../constants/metadata_keys"),a=t("../planning/metadata"),o=t("./decorator_utils");e.optional=function(){return function(t,n,e){var i=new a.Metadata(r.OPTIONAL_TAG,!0);"number"==typeof e?o.tagParameter(t,n,e,i):o.tagProperty(t,n,i)}}},{"../constants/metadata_keys":16,"../planning/metadata":23,"./decorator_utils":2}],8:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("../constants/error_msgs"),a=t("../constants/metadata_keys"),o=t("../planning/metadata");e.postConstruct=function(){return function(t,n,e){var i=new o.Metadata(a.POST_CONSTRUCT,n);if(Reflect.hasOwnMetadata(a.POST_CONSTRUCT,t.constructor))throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.defineMetadata(a.POST_CONSTRUCT,i,t.constructor)}}},{"../constants/error_msgs":14,"../constants/metadata_keys":16,"../planning/metadata":23}],9:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t("../planning/metadata"),s=t("./decorator_utils");e.tagged=function(r,a){return function(t,n,e){var i=new o.Metadata(r,a);"number"==typeof e?s.tagParameter(t,n,e,i):s.tagProperty(t,n,i)}}},{"../planning/metadata":23,"./decorator_utils":2}],10:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("../constants/metadata_keys"),o=t("../planning/metadata"),s=t("./decorator_utils");e.targetName=function(r){return function(t,n,e){var i=new o.Metadata(a.NAME_TAG,r);s.tagParameter(t,n,e,i)}}},{"../constants/metadata_keys":16,"../planning/metadata":23,"./decorator_utils":2}],11:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("../constants/metadata_keys"),a=t("../planning/metadata"),o=t("./decorator_utils");e.unmanaged=function(){return function(t,n,e){var i=new a.Metadata(r.UNMANAGED_TAG,!0);o.tagParameter(t,n,e,i)}}},{"../constants/metadata_keys":16,"../planning/metadata":23,"./decorator_utils":2}],12:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../constants/literal_types"),r=t("../utils/id"),a=function(){function n(t,n){this.id=r.id(),this.activated=!1,this.serviceIdentifier=t,this.scope=n,this.type=i.BindingTypeEnum.Invalid,this.constraint=function(t){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return n.prototype.clone=function(){var t=new n(this.serviceIdentifier,this.scope);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},n}();e.Binding=a},{"../constants/literal_types":15,"../utils/id":42}],13:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}},{}],14:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",e.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",e.NULL_ARGUMENT="NULL argument",e.KEY_NOT_FOUND="Key Not Found",e.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",e.CANNOT_UNBIND="Could not unbind serviceIdentifier:",e.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",e.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",e.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:",e.UNDEFINED_INJECT_ANNOTATION=function(t){return"@inject called with undefined this could mean that the class "+t+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},e.CIRCULAR_DEPENDENCY="Circular dependency found:",e.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",e.INVALID_BINDING_TYPE="Invalid binding type:",e.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",e.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",e.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",e.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",e.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.",e.ARGUMENTS_LENGTH_MISMATCH=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"The number of constructor arguments in the derived class "+t[0]+" must be >= than the number of constructor arguments of its base class."},e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",e.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class",e.POST_CONSTRUCT_ERROR=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"@postConstruct error in class "+t[0]+": "+t[1]},e.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return"It looks like there is a circular dependency in one of the '"+t[0]+"' bindings. Please investigate bindings withservice identifier '"+t[1]+"'."},e.STACK_OVERFLOW="Maximum call stack size exceeded"},{}],15:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};e.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};e.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"}},{}],16:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NAMED_TAG="named",e.NAME_TAG="name",e.UNMANAGED_TAG="unmanaged",e.OPTIONAL_TAG="optional",e.INJECT_TAG="inject",e.MULTI_INJECT_TAG="multi_inject",e.TAGGED="inversify:tagged",e.TAGGED_PROP="inversify:tagged_props",e.PARAM_TYPES="inversify:paramtypes",e.DESIGN_PARAM_TYPES="design:paramtypes",e.POST_CONSTRUCT="post_construct"},{}],17:[function(t,n,e){"use strict";var i=this&&this.__awaiter||function(a,o,s,u){return new(s||(s=Promise))(function(t,n){function e(t){try{r(u.next(t))}catch(t){n(t)}}function i(t){try{r(u.throw(t))}catch(t){n(t)}}function r(n){n.done?t(n.value):new s(function(t){t(n.value)}).then(e,i)}r((u=u.apply(a,o||[])).next())})},u=this&&this.__generator||function(e,i){var r,a,o,t,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return t={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function n(n){return function(t){return function(n){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,a&&(o=a[2&n[0]?"return":n[0]?"throw":"next"])&&!(o=o.call(a,n[1])).done)return o;switch(a=0,o&&(n=[0,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,a=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=0<(o=s.trys).length&&o[o.length-1])&&(6===n[0]||2===n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=i.call(e,s)}catch(t){n=[6,t],a=0}finally{r=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,t])}}};Object.defineProperty(e,"__esModule",{value:!0});var r=t("../bindings/binding"),c=t("../constants/error_msgs"),a=t("../constants/literal_types"),o=t("../constants/metadata_keys"),d=t("../planning/metadata_reader"),l=t("../planning/planner"),p=t("../resolution/resolver"),f=t("../syntax/binding_to_syntax"),g=t("../utils/id"),h=t("../utils/serialization"),y=t("./container_snapshot"),_=t("./lookup"),s=function(){function s(t){var n=t||{};if("object"!=typeof n)throw new Error(""+c.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===n.defaultScope)n.defaultScope=a.BindingScopeEnum.Transient;else if(n.defaultScope!==a.BindingScopeEnum.Singleton&&n.defaultScope!==a.BindingScopeEnum.Transient&&n.defaultScope!==a.BindingScopeEnum.Request)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===n.autoBindInjectable)n.autoBindInjectable=!1;else if("boolean"!=typeof n.autoBindInjectable)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===n.skipBaseClassChecks)n.skipBaseClassChecks=!1;else if("boolean"!=typeof n.skipBaseClassChecks)throw new Error(""+c.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:n.autoBindInjectable,defaultScope:n.defaultScope,skipBaseClassChecks:n.skipBaseClassChecks},this.id=g.id(),this._bindingDictionary=new _.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new d.MetadataReader}return s.merge=function(t,n){var e=new s,i=l.getBindingDictionary(e),r=l.getBindingDictionary(t),a=l.getBindingDictionary(n);function o(t,e){t.traverse(function(t,n){n.forEach(function(t){e.add(t.serviceIdentifier,t.clone())})})}return o(r,i),o(a,i),e},s.prototype.load=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var e=this._getContainerModuleHelpersFactory(),i=0,r=t;i<r.length;i++){var a=r[i],o=e(a.id);a.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)}},s.prototype.loadAsync=function(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return i(this,void 0,void 0,function(){var n,e,i,r,a;return u(this,function(t){switch(t.label){case 0:n=this._getContainerModuleHelpersFactory(),e=0,i=o,t.label=1;case 1:return e<i.length?(r=i[e],a=n(r.id),[4,r.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)]):[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}})})},s.prototype.unload=function(){for(var i=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){var n,e=(n=t.id,function(t){return t.moduleId===n});i._bindingDictionary.removeByCondition(e)})},s.prototype.bind=function(t){var n=this.options.defaultScope||a.BindingScopeEnum.Transient,e=new r.Binding(t,n);return this._bindingDictionary.add(t,e),new f.BindingToSyntax(e)},s.prototype.rebind=function(t){return this.unbind(t),this.bind(t)},s.prototype.unbind=function(n){try{this._bindingDictionary.remove(n)}catch(t){throw new Error(c.CANNOT_UNBIND+" "+h.getServiceIdentifierAsString(n))}},s.prototype.unbindAll=function(){this._bindingDictionary=new _.Lookup},s.prototype.isBound=function(t){var n=this._bindingDictionary.hasKey(t);return!n&&this.parent&&(n=this.parent.isBound(t)),n},s.prototype.isBoundNamed=function(t,n){return this.isBoundTagged(t,o.NAMED_TAG,n)},s.prototype.isBoundTagged=function(t,n,e){var i=!1;if(this._bindingDictionary.hasKey(t)){var r=this._bindingDictionary.get(t),a=l.createMockRequest(this,t,n,e);i=r.some(function(t){return t.constraint(a)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(t,n,e)),i},s.prototype.snapshot=function(){this._snapshots.push(y.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},s.prototype.restore=function(){var t=this._snapshots.pop();if(void 0===t)throw new Error(c.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=t.bindings,this._middleware=t.middleware},s.prototype.createChild=function(t){var n=new s(t||this.options);return n.parent=this,n},s.prototype.applyMiddleware=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=this._middleware?this._middleware:this._planAndResolve();this._middleware=t.reduce(function(t,n){return n(t)},e)},s.prototype.applyCustomMetadataReader=function(t){this._metadataReader=t},s.prototype.get=function(t){return this._get(!1,!1,a.TargetTypeEnum.Variable,t)},s.prototype.getTagged=function(t,n,e){return this._get(!1,!1,a.TargetTypeEnum.Variable,t,n,e)},s.prototype.getNamed=function(t,n){return this.getTagged(t,o.NAMED_TAG,n)},s.prototype.getAll=function(t){return this._get(!0,!0,a.TargetTypeEnum.Variable,t)},s.prototype.getAllTagged=function(t,n,e){return this._get(!1,!0,a.TargetTypeEnum.Variable,t,n,e)},s.prototype.getAllNamed=function(t,n){return this.getAllTagged(t,o.NAMED_TAG,n)},s.prototype.resolve=function(t){var n=this.createChild();return n.bind(t).toSelf(),n.get(t)},s.prototype._getContainerModuleHelpersFactory=function(){var r=this,a=function(t,n){t._binding.moduleId=n};return function(t){return{bindFunction:(i=t,function(t){var n=r.bind.bind(r)(t);return a(n,i),n}),isboundFunction:function(t){return r.isBound.bind(r)(t)},rebindFunction:(e=t,function(t){var n=r.rebind.bind(r)(t);return a(n,e),n}),unbindFunction:function(t){r.unbind.bind(r)(t)}};var e,i}},s.prototype._get=function(t,n,e,i,r,a){var o=null,s={avoidConstraints:t,contextInterceptor:function(t){return t},isMultiInject:n,key:r,serviceIdentifier:i,targetType:e,value:a};if(this._middleware){if(null==(o=this._middleware(s)))throw new Error(c.INVALID_MIDDLEWARE_RETURN)}else o=this._planAndResolve()(s);return o},s.prototype._planAndResolve=function(){var e=this;return function(t){var n=l.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),p.resolve(n)}},s}();e.Container=s},{"../bindings/binding":12,"../constants/error_msgs":14,"../constants/literal_types":15,"../constants/metadata_keys":16,"../planning/metadata_reader":24,"../planning/planner":26,"../resolution/resolver":32,"../syntax/binding_to_syntax":36,"../utils/id":42,"../utils/serialization":43,"./container_snapshot":19,"./lookup":20}],18:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../utils/id"),r=function(t){this.id=i.id(),this.registry=t};e.ContainerModule=r;var a=function(t){this.id=i.id(),this.registry=t};e.AsyncContainerModule=a},{"../utils/id":42}],19:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function i(){}return i.of=function(t,n){var e=new i;return e.bindings=t,e.middleware=n,e},i}();e.ContainerSnapshot=i},{}],20:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../constants/error_msgs"),r=function(){function t(){this._map=new Map}return t.prototype.getMap=function(){return this._map},t.prototype.add=function(t,n){if(null==t)throw new Error(i.NULL_ARGUMENT);if(null==n)throw new Error(i.NULL_ARGUMENT);var e=this._map.get(t);void 0!==e?(e.push(n),this._map.set(t,e)):this._map.set(t,[n])},t.prototype.get=function(t){if(null==t)throw new Error(i.NULL_ARGUMENT);var n=this._map.get(t);if(void 0!==n)return n;throw new Error(i.KEY_NOT_FOUND)},t.prototype.remove=function(t){if(null==t)throw new Error(i.NULL_ARGUMENT);if(!this._map.delete(t))throw new Error(i.KEY_NOT_FOUND)},t.prototype.removeByCondition=function(i){var r=this;this._map.forEach(function(t,n){var e=t.filter(function(t){return!i(t)});0<e.length?r._map.set(n,e):r._map.delete(n)})},t.prototype.hasKey=function(t){if(null==t)throw new Error(i.NULL_ARGUMENT);return this._map.has(t)},t.prototype.clone=function(){var e=new t;return this._map.forEach(function(t,n){t.forEach(function(t){return e.add(n,t.clone())})}),e},t.prototype.traverse=function(e){this._map.forEach(function(t,n){e(n,t)})},t}();e.Lookup=r},{"../constants/error_msgs":14}],21:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("./constants/metadata_keys");e.METADATA_KEY=i;var r=t("./container/container");e.Container=r.Container;var a=t("./constants/literal_types");e.BindingScopeEnum=a.BindingScopeEnum,e.BindingTypeEnum=a.BindingTypeEnum,e.TargetTypeEnum=a.TargetTypeEnum;var o=t("./container/container_module");e.AsyncContainerModule=o.AsyncContainerModule,e.ContainerModule=o.ContainerModule;var s=t("./annotation/injectable");e.injectable=s.injectable;var u=t("./annotation/tagged");e.tagged=u.tagged;var c=t("./annotation/named");e.named=c.named;var d=t("./annotation/inject");e.inject=d.inject,e.LazyServiceIdentifer=d.LazyServiceIdentifer;var l=t("./annotation/optional");e.optional=l.optional;var p=t("./annotation/unmanaged");e.unmanaged=p.unmanaged;var f=t("./annotation/multi_inject");e.multiInject=f.multiInject;var g=t("./annotation/target_name");e.targetName=g.targetName;var h=t("./annotation/post_construct");e.postConstruct=h.postConstruct;var y=t("./planning/metadata_reader");e.MetadataReader=y.MetadataReader;var _=t("./utils/id");e.id=_.id;var m=t("./annotation/decorator_utils");e.decorate=m.decorate;var v=t("./syntax/constraint_helpers");e.traverseAncerstors=v.traverseAncerstors,e.taggedConstraint=v.taggedConstraint,e.namedConstraint=v.namedConstraint,e.typeConstraint=v.typeConstraint;var T=t("./utils/serialization");e.getServiceIdentifierAsString=T.getServiceIdentifierAsString;var b=t("./utils/binding_utils");e.multiBindToService=b.multiBindToService},{"./annotation/decorator_utils":2,"./annotation/inject":3,"./annotation/injectable":4,"./annotation/multi_inject":5,"./annotation/named":6,"./annotation/optional":7,"./annotation/post_construct":8,"./annotation/tagged":9,"./annotation/target_name":10,"./annotation/unmanaged":11,"./constants/literal_types":15,"./constants/metadata_keys":16,"./container/container":17,"./container/container_module":18,"./planning/metadata_reader":24,"./syntax/constraint_helpers":39,"./utils/binding_utils":40,"./utils/id":42,"./utils/serialization":43}],22:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../utils/id"),r=function(){function t(t){this.id=i.id(),this.container=t}return t.prototype.addPlan=function(t){this.plan=t},t.prototype.setCurrentRequest=function(t){this.currentRequest=t},t}();e.Context=r},{"../utils/id":42}],23:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../constants/metadata_keys"),r=function(){function t(t,n){this.key=t,this.value=n}return t.prototype.toString=function(){return this.key===i.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},t}();e.Metadata=r},{"../constants/metadata_keys":16}],24:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../constants/metadata_keys"),r=function(){function t(){}return t.prototype.getConstructorMetadata=function(t){return{compilerGeneratedMetadata:Reflect.getMetadata(i.PARAM_TYPES,t),userGeneratedMetadata:Reflect.getMetadata(i.TAGGED,t)||{}}},t.prototype.getPropertiesMetadata=function(t){return Reflect.getMetadata(i.TAGGED_PROP,t)||[]},t}();e.MetadataReader=r},{"../constants/metadata_keys":16}],25:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,n){this.parentContext=t,this.rootRequest=n};e.Plan=i},{}],26:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=t("../bindings/binding_count"),d=t("../constants/error_msgs"),l=t("../constants/literal_types"),p=t("../constants/metadata_keys"),f=t("../utils/exceptions"),g=t("../utils/serialization"),h=t("./context"),y=t("./metadata"),_=t("./plan"),m=t("./reflection_utils"),v=t("./request"),T=t("./target");function r(t){return t._bindingDictionary}function b(t,n,e,i,r){var a=u(e.container,r.serviceIdentifier),o=[];return a.length===s.BindingCount.NoBindingsAvailable&&e.container.options.autoBindInjectable&&"function"==typeof r.serviceIdentifier&&t.getConstructorMetadata(r.serviceIdentifier).compilerGeneratedMetadata&&(e.container.bind(r.serviceIdentifier).toSelf(),a=u(e.container,r.serviceIdentifier)),o=n?a:a.filter(function(t){var n=new v.Request(t.serviceIdentifier,e,i,t,r);return t.constraint(n)}),function(t,n,e,i){switch(n.length){case s.BindingCount.NoBindingsAvailable:if(e.isOptional())return;var r=g.getServiceIdentifierAsString(t),a=d.NOT_REGISTERED;throw a+=g.listMetadataForTarget(r,e),a+=g.listRegisteredBindingsForServiceIdentifier(i,r,u),new Error(a);case s.BindingCount.OnlyOneBindingAvailable:if(!e.isArray())return;case s.BindingCount.MultipleBindingsAvailable:default:if(e.isArray())return;var r=g.getServiceIdentifierAsString(t),a=d.AMBIGUOUS_MATCH+" "+r;throw a+=g.listRegisteredBindingsForServiceIdentifier(i,r,u),new Error(a)}}(r.serviceIdentifier,o,r,e.container),o}function u(t,n){var e=[],i=r(t);return i.hasKey(n)?e=i.get(n):null!==t.parent&&(e=u(t.parent,n)),e}e.getBindingDictionary=r,e.plan=function(t,n,e,i,r,a,o,s){void 0===s&&(s=!1);var u=new h.Context(n),c=function(t,n,e,i,r,a){var o=t?p.MULTI_INJECT_TAG:p.INJECT_TAG,s=new y.Metadata(o,e),u=new T.Target(n,i,e,s);if(void 0!==r){var c=new y.Metadata(r,a);u.metadata.push(c)}return u}(e,i,r,"",a,o);try{return function a(o,t,n,s,e,u){var i,c;if(null===e){i=b(o,t,s,null,u),c=new v.Request(n,s,null,i,u);var r=new _.Plan(s,c);s.addPlan(r)}else i=b(o,t,s,e,u),c=e.addChildRequest(u.serviceIdentifier,i,u);i.forEach(function(t){var n=null;if(u.isArray())n=c.addChildRequest(t.serviceIdentifier,t,u);else{if(t.cache)return;n=c}if(t.type===l.BindingTypeEnum.Instance&&null!==t.implementationType){var e=m.getDependencies(o,t.implementationType);if(!s.container.options.skipBaseClassChecks){var i=m.getBaseClassDependencyCount(o,t.implementationType);if(e.length<i){var r=d.ARGUMENTS_LENGTH_MISMATCH(m.getFunctionName(t.implementationType));throw new Error(r)}}e.forEach(function(t){a(o,!1,t.serviceIdentifier,s,n,t)})}})}(t,s,r,u,null,c),u}catch(t){throw f.isStackOverflowExeption(t)&&u.plan&&g.circularDependencyToException(u.plan.rootRequest),t}},e.createMockRequest=function(t,n,e,i){var r=new T.Target(l.TargetTypeEnum.Variable,"",n,new y.Metadata(e,i)),a=new h.Context(t);return new v.Request(n,a,null,[],r)}},{"../bindings/binding_count":13,"../constants/error_msgs":14,"../constants/literal_types":15,"../constants/metadata_keys":16,"../utils/exceptions":41,"../utils/serialization":43,"./context":22,"./metadata":23,"./plan":25,"./reflection_utils":28,"./request":29,"./target":30}],27:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t){this.str=t}return t.prototype.startsWith=function(t){return 0===this.str.indexOf(t)},t.prototype.endsWith=function(t){var n,e=t.split("").reverse().join("");return n=this.str.split("").reverse().join(""),this.startsWith.call({str:n},e)},t.prototype.contains=function(t){return-1!==this.str.indexOf(t)},t.prototype.equals=function(t){return this.str===t},t.prototype.value=function(){return this.str},t}();e.QueryableString=i},{}],28:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var g=t("../annotation/inject"),h=t("../constants/error_msgs"),y=t("../constants/literal_types"),u=t("../constants/metadata_keys"),c=t("../utils/serialization");e.getFunctionName=c.getFunctionName;var _=t("./target");function d(t,n,e,i){var r=t.getConstructorMetadata(e),a=r.compilerGeneratedMetadata;if(void 0===a){var o=h.MISSING_INJECTABLE_ANNOTATION+" "+n+".";throw new Error(o)}var s=r.userGeneratedMetadata,u=Object.keys(s),c=function(t,n,e,i,r){for(var a=[],o=0;o<r;o++){var s=o,u=l(s,t,n,e,i);null!==u&&a.push(u)}return a}(i,n,a,s,0===e.length&&0<u.length?u.length:e.length),d=function t(n,e){var i=n.getPropertiesMetadata(e);var r=[];var a=Object.keys(i);for(var o=0,s=a;o<s.length;o++){var u=s[o],c=i[u],d=m(i[u]),l=d.targetName||u,p=d.inject||d.multiInject,f=new _.Target(y.TargetTypeEnum.ClassProperty,l,p);f.metadata=c,r.push(f)}var g=Object.getPrototypeOf(e.prototype).constructor;if(g!==Object){var h=t(n,g);r=r.concat(h)}return r}(t,e);return c.concat(d)}function l(t,n,e,i,r){var a=r[t.toString()]||[],o=m(a),s=!0!==o.unmanaged,u=i[t],c=o.inject||o.multiInject;if((u=c||u)instanceof g.LazyServiceIdentifer&&(u=u.unwrap()),s){var d=u===Object,l=u===Function;if(!n&&(d||l||void 0===u)){var p=h.MISSING_INJECT_ANNOTATION+" argument "+t+" in class "+e+".";throw new Error(p)}var f=new _.Target(y.TargetTypeEnum.ConstructorArgument,o.targetName,u);return f.metadata=a,f}return null}function m(t){var n={};return t.forEach(function(t){n[t.key.toString()]=t.value}),{inject:n[u.INJECT_TAG],multiInject:n[u.MULTI_INJECT_TAG],targetName:n[u.NAME_TAG],unmanaged:n[u.UNMANAGED_TAG]}}e.getDependencies=function(t,n){return d(t,c.getFunctionName(n),n,!1)},e.getBaseClassDependencyCount=function t(n,e){var i=Object.getPrototypeOf(e.prototype).constructor;if(i===Object)return 0;var r=d(n,c.getFunctionName(i),i,!0),a=r.map(function(t){return t.metadata.filter(function(t){return t.key===u.UNMANAGED_TAG})}),o=[].concat.apply([],a).length,s=r.length-o;return 0<s?s:t(n,i)}},{"../annotation/inject":3,"../constants/error_msgs":14,"../constants/literal_types":15,"../constants/metadata_keys":16,"../utils/serialization":43,"./target":30}],29:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("../utils/id"),i=function(){function r(t,n,e,i,r){this.id=a.id(),this.serviceIdentifier=t,this.parentContext=n,this.parentRequest=e,this.target=r,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=null===e?new Map:null}return r.prototype.addChildRequest=function(t,n,e){var i=new r(t,this.parentContext,this,n,e);return this.childRequests.push(i),i},r}();e.Request=i},{"../utils/id":42}],30:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t("../constants/metadata_keys"),o=t("../utils/id"),s=t("./metadata"),u=t("./queryable_string"),i=function(){function t(t,n,e,i){this.id=o.id(),this.type=t,this.serviceIdentifier=e,this.name=new u.QueryableString(n||""),this.metadata=new Array;var r=null;"string"==typeof i?r=new s.Metadata(a.NAMED_TAG,i):i instanceof s.Metadata&&(r=i),null!==r&&this.metadata.push(r)}return t.prototype.hasTag=function(t){for(var n=0,e=this.metadata;n<e.length;n++){if(e[n].key===t)return!0}return!1},t.prototype.isArray=function(){return this.hasTag(a.MULTI_INJECT_TAG)},t.prototype.matchesArray=function(t){return this.matchesTag(a.MULTI_INJECT_TAG)(t)},t.prototype.isNamed=function(){return this.hasTag(a.NAMED_TAG)},t.prototype.isTagged=function(){return this.metadata.some(function(t){return t.key!==a.INJECT_TAG&&t.key!==a.MULTI_INJECT_TAG&&t.key!==a.NAME_TAG&&t.key!==a.UNMANAGED_TAG&&t.key!==a.NAMED_TAG})},t.prototype.isOptional=function(){return this.matchesTag(a.OPTIONAL_TAG)(!0)},t.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(t){return t.key===a.NAMED_TAG})[0]:null},t.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(t){return t.key!==a.INJECT_TAG&&t.key!==a.MULTI_INJECT_TAG&&t.key!==a.NAME_TAG&&t.key!==a.UNMANAGED_TAG&&t.key!==a.NAMED_TAG}):null},t.prototype.matchesNamedTag=function(t){return this.matchesTag(a.NAMED_TAG)(t)},t.prototype.matchesTag=function(r){var a=this;return function(t){for(var n=0,e=a.metadata;n<e.length;n++){var i=e[n];if(i.key===r&&i.value===t)return!0}return!1}},t}();e.Target=i},{"../constants/metadata_keys":16,"../utils/id":42,"./metadata":23,"./queryable_string":27}],31:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("../constants/error_msgs"),p=t("../constants/literal_types"),f=t("../constants/metadata_keys");e.resolveInstance=function(t,n,e){var r,i,a,o,s,u,c=null;if(0<n.length){var d=n.filter(function(t){return null!==t.target&&t.target.type===p.TargetTypeEnum.ConstructorArgument}).map(e);u=d,c=new((s=t).bind.apply(s,[void 0].concat(u))),r=c,i=e,a=n.filter(function(t){return null!==t.target&&t.target.type===p.TargetTypeEnum.ClassProperty}),o=a.map(i),a.forEach(function(t,n){var e;e=t.target.name.value();var i=o[n];r[e]=i}),c=r}else c=new t;return function(n,t){if(Reflect.hasMetadata(f.POST_CONSTRUCT,n)){var e=Reflect.getMetadata(f.POST_CONSTRUCT,n);try{t[e.value]()}catch(t){throw new Error(l.POST_CONSTRUCT_ERROR(n.name,t.message))}}}(t,c),c}},{"../constants/error_msgs":14,"../constants/literal_types":15,"../constants/metadata_keys":16}],32:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=t("../constants/error_msgs"),p=t("../constants/literal_types"),i=t("../utils/exceptions"),f=t("../utils/serialization"),g=t("./instantiation"),h=function(n,e,t){try{return t()}catch(t){throw i.isStackOverflowExeption(t)?new Error(l.CIRCULAR_DEPENDENCY_IN_FACTORY(n,e.toString())):t}},y=function(d){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,e=t.childRequests,i=t.target&&t.target.isArray(),r=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(i&&r)return e.map(function(t){return y(d)(t)});var a=null;if(!t.target.isOptional()||0!==n.length){var o=n[0],s=o.scope===p.BindingScopeEnum.Singleton,u=o.scope===p.BindingScopeEnum.Request;if(s&&o.activated)return o.cache;if(u&&null!==d&&d.has(o.id))return d.get(o.id);if(o.type===p.BindingTypeEnum.ConstantValue)a=o.cache;else if(o.type===p.BindingTypeEnum.Function)a=o.cache;else if(o.type===p.BindingTypeEnum.Constructor)a=o.implementationType;else if(o.type===p.BindingTypeEnum.DynamicValue&&null!==o.dynamicValue)a=h("toDynamicValue",o.serviceIdentifier,function(){return o.dynamicValue(t.parentContext)});else if(o.type===p.BindingTypeEnum.Factory&&null!==o.factory)a=h("toFactory",o.serviceIdentifier,function(){return o.factory(t.parentContext)});else if(o.type===p.BindingTypeEnum.Provider&&null!==o.provider)a=h("toProvider",o.serviceIdentifier,function(){return o.provider(t.parentContext)});else{if(o.type!==p.BindingTypeEnum.Instance||null===o.implementationType){var c=f.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(l.INVALID_BINDING_TYPE+" "+c)}a=g.resolveInstance(o.implementationType,e,y(d))}return"function"==typeof o.onActivation&&(a=o.onActivation(t.parentContext,a)),s&&(o.cache=a,o.activated=!0),u&&null!==d&&!d.has(o.id)&&d.set(o.id,a),a}}};e.resolve=function(t){return y(t.plan.rootRequest.requestScope)(t.plan.rootRequest)}},{"../constants/error_msgs":14,"../constants/literal_types":15,"../utils/exceptions":41,"../utils/serialization":43,"./instantiation":31}],33:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../constants/literal_types"),r=t("./binding_when_on_syntax"),a=function(){function t(t){this._binding=t}return t.prototype.inRequestScope=function(){return this._binding.scope=i.BindingScopeEnum.Request,new r.BindingWhenOnSyntax(this._binding)},t.prototype.inSingletonScope=function(){return this._binding.scope=i.BindingScopeEnum.Singleton,new r.BindingWhenOnSyntax(this._binding)},t.prototype.inTransientScope=function(){return this._binding.scope=i.BindingScopeEnum.Transient,new r.BindingWhenOnSyntax(this._binding)},t}();e.BindingInSyntax=a},{"../constants/literal_types":15,"./binding_when_on_syntax":37}],34:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("./binding_in_syntax"),r=t("./binding_on_syntax"),a=t("./binding_when_syntax"),o=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new a.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new r.BindingOnSyntax(this._binding),this._bindingInSyntax=new i.BindingInSyntax(t)}return t.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},t.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},t.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingInWhenOnSyntax=o},{"./binding_in_syntax":33,"./binding_on_syntax":35,"./binding_when_syntax":38}],35:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("./binding_when_syntax"),r=function(){function t(t){this._binding=t}return t.prototype.onActivation=function(t){return this._binding.onActivation=t,new i.BindingWhenSyntax(this._binding)},t}();e.BindingOnSyntax=r},{"./binding_when_syntax":38}],36:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../constants/error_msgs"),r=t("../constants/literal_types"),a=t("./binding_in_when_on_syntax"),o=t("./binding_when_on_syntax"),s=function(){function t(t){this._binding=t}return t.prototype.to=function(t){return this._binding.type=r.BindingTypeEnum.Instance,this._binding.implementationType=t,new a.BindingInWhenOnSyntax(this._binding)},t.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+i.INVALID_TO_SELF_VALUE);var t=this._binding.serviceIdentifier;return this.to(t)},t.prototype.toConstantValue=function(t){return this._binding.type=r.BindingTypeEnum.ConstantValue,this._binding.cache=t,this._binding.dynamicValue=null,this._binding.implementationType=null,new o.BindingWhenOnSyntax(this._binding)},t.prototype.toDynamicValue=function(t){return this._binding.type=r.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=t,this._binding.implementationType=null,new a.BindingInWhenOnSyntax(this._binding)},t.prototype.toConstructor=function(t){return this._binding.type=r.BindingTypeEnum.Constructor,this._binding.implementationType=t,new o.BindingWhenOnSyntax(this._binding)},t.prototype.toFactory=function(t){return this._binding.type=r.BindingTypeEnum.Factory,this._binding.factory=t,new o.BindingWhenOnSyntax(this._binding)},t.prototype.toFunction=function(t){if("function"!=typeof t)throw new Error(i.INVALID_FUNCTION_BINDING);var n=this.toConstantValue(t);return this._binding.type=r.BindingTypeEnum.Function,n},t.prototype.toAutoFactory=function(n){return this._binding.type=r.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(n)}},new o.BindingWhenOnSyntax(this._binding)},t.prototype.toProvider=function(t){return this._binding.type=r.BindingTypeEnum.Provider,this._binding.provider=t,new o.BindingWhenOnSyntax(this._binding)},t.prototype.toService=function(n){this.toDynamicValue(function(t){return t.container.get(n)})},t}();e.BindingToSyntax=s},{"../constants/error_msgs":14,"../constants/literal_types":15,"./binding_in_when_on_syntax":34,"./binding_when_on_syntax":37}],37:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("./binding_on_syntax"),r=t("./binding_when_syntax"),a=function(){function t(t){this._binding=t,this._bindingWhenSyntax=new r.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new i.BindingOnSyntax(this._binding)}return t.prototype.when=function(t){return this._bindingWhenSyntax.when(t)},t.prototype.whenTargetNamed=function(t){return this._bindingWhenSyntax.whenTargetNamed(t)},t.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},t.prototype.whenTargetTagged=function(t,n){return this._bindingWhenSyntax.whenTargetTagged(t,n)},t.prototype.whenInjectedInto=function(t){return this._bindingWhenSyntax.whenInjectedInto(t)},t.prototype.whenParentNamed=function(t){return this._bindingWhenSyntax.whenParentNamed(t)},t.prototype.whenParentTagged=function(t,n){return this._bindingWhenSyntax.whenParentTagged(t,n)},t.prototype.whenAnyAncestorIs=function(t){return this._bindingWhenSyntax.whenAnyAncestorIs(t)},t.prototype.whenNoAncestorIs=function(t){return this._bindingWhenSyntax.whenNoAncestorIs(t)},t.prototype.whenAnyAncestorNamed=function(t){return this._bindingWhenSyntax.whenAnyAncestorNamed(t)},t.prototype.whenAnyAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenAnyAncestorTagged(t,n)},t.prototype.whenNoAncestorNamed=function(t){return this._bindingWhenSyntax.whenNoAncestorNamed(t)},t.prototype.whenNoAncestorTagged=function(t,n){return this._bindingWhenSyntax.whenNoAncestorTagged(t,n)},t.prototype.whenAnyAncestorMatches=function(t){return this._bindingWhenSyntax.whenAnyAncestorMatches(t)},t.prototype.whenNoAncestorMatches=function(t){return this._bindingWhenSyntax.whenNoAncestorMatches(t)},t.prototype.onActivation=function(t){return this._bindingOnSyntax.onActivation(t)},t}();e.BindingWhenOnSyntax=a},{"./binding_on_syntax":35,"./binding_when_syntax":38}],38:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("./binding_on_syntax"),r=t("./constraint_helpers"),a=function(){function t(t){this._binding=t}return t.prototype.when=function(t){return this._binding.constraint=t,new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetNamed=function(t){return this._binding.constraint=r.namedConstraint(t),new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(t){return null!==t.target&&!t.target.isNamed()&&!t.target.isTagged()},new i.BindingOnSyntax(this._binding)},t.prototype.whenTargetTagged=function(t,n){return this._binding.constraint=r.taggedConstraint(t)(n),new i.BindingOnSyntax(this._binding)},t.prototype.whenInjectedInto=function(n){return this._binding.constraint=function(t){return r.typeConstraint(n)(t.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenParentNamed=function(n){return this._binding.constraint=function(t){return r.namedConstraint(n)(t.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenParentTagged=function(n,e){return this._binding.constraint=function(t){return r.taggedConstraint(n)(e)(t.parentRequest)},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorIs=function(n){return this._binding.constraint=function(t){return r.traverseAncerstors(t,r.typeConstraint(n))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorIs=function(n){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,r.typeConstraint(n))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorNamed=function(n){return this._binding.constraint=function(t){return r.traverseAncerstors(t,r.namedConstraint(n))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorNamed=function(n){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,r.namedConstraint(n))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorTagged=function(n,e){return this._binding.constraint=function(t){return r.traverseAncerstors(t,r.taggedConstraint(n)(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorTagged=function(n,e){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,r.taggedConstraint(n)(e))},new i.BindingOnSyntax(this._binding)},t.prototype.whenAnyAncestorMatches=function(n){return this._binding.constraint=function(t){return r.traverseAncerstors(t,n)},new i.BindingOnSyntax(this._binding)},t.prototype.whenNoAncestorMatches=function(n){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,n)},new i.BindingOnSyntax(this._binding)},t}();e.BindingWhenSyntax=a},{"./binding_on_syntax":35,"./constraint_helpers":39}],39:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../constants/metadata_keys"),r=t("../planning/metadata"),a=function(t,n){var e=t.parentRequest;return null!==e&&(!!n(e)||a(e,n))};e.traverseAncerstors=a;var o=function(e){return function(n){var t=function(t){return null!==t&&null!==t.target&&t.target.matchesTag(e)(n)};return t.metaData=new r.Metadata(e,n),t}},s=(e.taggedConstraint=o)(i.NAMED_TAG);e.namedConstraint=s;e.typeConstraint=function(i){return function(t){var n=null;if(null===t)return!1;if(n=t.bindings[0],"string"==typeof i)return n.serviceIdentifier===i;var e=t.bindings[0].implementationType;return i===e}}},{"../constants/metadata_keys":16,"../planning/metadata":23}],40:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=function(i){return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach(function(t){return i.bind(t).toService(e)})}}}},{}],41:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../constants/error_msgs");e.isStackOverflowExeption=function(t){return t instanceof RangeError||t.message===i.STACK_OVERFLOW}},{"../constants/error_msgs":14}],42:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=0;e.id=function(){return i++}},{}],43:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=t("../constants/error_msgs");function r(t){return"function"!=typeof t?"symbol"==typeof t?t.toString():t:t.name}function a(t){if(t.name)return t.name;var n=t.toString(),e=n.match(/^function\s*([^\s(]+)/);return e?e[1]:"Anonymous function: "+n}e.getServiceIdentifierAsString=r,e.listRegisteredBindingsForServiceIdentifier=function(t,n,e){var i="",r=e(t,n);return 0!==r.length&&(i="\nRegistered bindings:",r.forEach(function(t){var n="Object";null!==t.implementationType&&(n=a(t.implementationType)),i=i+"\n "+n,t.constraint.metaData&&(i=i+" - "+t.constraint.metaData)})),i},e.circularDependencyToException=function e(t){t.childRequests.forEach(function(t){if(function t(n,e){return null!==n.parentRequest&&(n.parentRequest.serviceIdentifier===e||t(n.parentRequest,e))}(t,t.serviceIdentifier)){var n=function t(n,e){void 0===e&&(e=[]);var i=r(n.serviceIdentifier);return e.push(i),null!==n.parentRequest?t(n.parentRequest,e):e}(t).reverse().join(" --\x3e ");throw new Error(i.CIRCULAR_DEPENDENCY+" "+n)}e(t)})},e.listMetadataForTarget=function(t,n){if(n.isTagged()||n.isNamed()){var e="",i=n.getNamedTag(),r=n.getCustomTags();return null!==i&&(e+=i.toString()+"\n"),null!==r&&r.forEach(function(t){e+=t.toString()+"\n"})," "+t+"\n "+t+" - "+e}return" "+t},e.getFunctionName=a},{"../constants/error_msgs":14}]},{},[1])(1)});
//# sourceMappingURL=mon-chan.min.js.map
